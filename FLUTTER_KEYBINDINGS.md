# Flutter開発用キーバインド一覧 ⌨️

Flutter開発環境で使用可能な全キーバインドの完全リファレンスです。

## 📋 目次

- [基本操作](#基本操作)
- [Flutter開発](#flutter開発)
- [Git操作](#git操作)
- [GitHub Copilot](#github-copilot)
- [ファイル操作](#ファイル操作)
- [検索・ナビゲーション](#検索ナビゲーション)
- [編集・移動](#編集移動)
- [診断・デバッグ](#診断デバッグ)
- [ターミナル](#ターミナル)
- [プラグイン固有](#プラグイン固有)

## ⚙️ リーダーキー設定

```
<leader> = Space (スペースキー)
```

---

## 基本操作

### ファイル操作
| キー | 機能 | 説明 |
|------|------|------|
| `<leader>w` | ファイル保存 | 現在のファイルを保存 |
| `<leader>q` | 終了 | Neovimを終了 |
| `<leader>e` | ファイルツリー切り替え | NvimTreeのトグル |

### ウィンドウ操作
| キー | 機能 | 説明 |
|------|------|------|
| `<C-h>` | 左のウィンドウへ | ウィンドウ間移動 |
| `<C-j>` | 下のウィンドウへ | ウィンドウ間移動 |
| `<C-k>` | 上のウィンドウへ | ウィンドウ間移動 |
| `<C-l>` | 右のウィンドウへ | ウィンドウ間移動 |
| `<C-w>s` | 水平分割 | ウィンドウを水平に分割 |
| `<C-w>v` | 垂直分割 | ウィンドウを垂直に分割 |

### モード切り替え
| キー | 機能 | 説明 |
|------|------|------|
| `jj` | ノーマルモードへ | インサートモードから脱出 |
| `kk` | ノーマルモードへ | インサートモードから脱出 |
| `<Esc>` | ノーマルモードへ | インサートモードから脱出 |

---

## Flutter開発

### 🚀 プロジェクト管理
| キー | 機能 | 説明 |
|------|------|------|
| `<leader>Fn` | 新規プロジェクト作成 | Flutter新規プロジェクトを作成 |
| `<leader>Ft` | Flutterモード切り替え | Flutter開発モードをトグル |

### 📱 実行・デバッグ
| キー | 機能 | 説明 |
|------|------|------|
| `<leader>fr` | Flutter実行 | アプリを実行 |
| `<leader>fq` | Flutter停止 | アプリを停止 |
| `<leader>fR` | Flutter再起動 | アプリを再起動 |
| `<leader>fh` | ホットリロード | ホットリロードを実行 |
| `<leader>fc` | ログクリア | Flutterログをクリア |

### 🖥️ デバイス・ツール
| キー | 機能 | 説明 |
|------|------|------|
| `<leader>fd` | デバイス一覧 | 利用可能なデバイスを表示 |
| `<leader>fe` | エミュレータ一覧 | エミュレータを表示 |
| `<leader>ft` | DevTools起動 | Flutter DevToolsを開く |
| `<leader>fo` | アウトライン切り替え | Flutterアウトラインをトグル |

### 🔧 ウィジェット操作
| キー | 機能 | 説明 |
|------|------|------|
| `<leader>Fw` | ウィジェットラップ | 選択したウィジェットをラップ |
| `<leader>Fs` | スーパークラス表示 | スーパークラスへジャンプ |

### 📊 ログ・情報
| キー | 機能 | 説明 |
|------|------|------|
| `<leader>Fl` | ログ切り替え | Flutterログの表示をトグル |

---

## Git操作

### 📊 状態確認
| キー | 機能 | 説明 |
|------|------|------|
| `<leader>gg` | Neogit起動 | Git状態を表示 |
| `<leader>gd` | 差分表示 | Diffviewで差分を表示 |
| `<leader>gh` | ファイル履歴 | ファイルの変更履歴を表示 |
| `<leader>gc` | 差分ビューを閉じる | Diffviewを閉じる |

### 🔄 Hunk操作
| キー | 機能 | 説明 |
|------|------|------|
| `]c` | 次のHunk | 次の変更箇所へ移動 |
| `[c` | 前のHunk | 前の変更箇所へ移動 |
| `<leader>hs` | Hunkステージング | 変更をステージングエリアに追加 |
| `<leader>hr` | Hunkリセット | 変更を取り消し |
| `<leader>hp` | Hunkプレビュー | 変更内容をプレビュー |
| `<leader>hb` | 行のBlame表示 | Git blameを表示 |
| `<leader>hd` | 差分表示 | 現在の差分を表示 |
| `<leader>hD` | HEADとの差分 | HEADとの差分を表示 |

### 📝 ファイル操作
| キー | 機能 | 説明 |
|------|------|------|
| `<leader>hS` | ファイル全体ステージング | ファイル全体をステージング |
| `<leader>hu` | ステージング取り消し | 最後のステージングを取り消し |
| `<leader>hR` | ファイル全体リセット | ファイル全体をリセット |

### 🔍 表示切り替え
| キー | 機能 | 説明 |
|------|------|------|
| `<leader>tb` | Blame表示切り替え | Git blameの表示をトグル |
| `<leader>td` | 削除行表示切り替え | 削除された行の表示をトグル |

---

## GitHub Copilot

### 💬 Copilot Chat
| キー | 機能 | 説明 |
|------|------|------|
| `<leader>cc` | Copilot Chat開く | チャットウィンドウを開く |
| `<leader>ce` | コード説明 | 選択したコードを説明 |
| `<leader>ct` | テスト生成 | テストコードを生成 |
| `<leader>cr` | コードレビュー | コードをレビュー |
| `<leader>cR` | リファクタリング | コードをリファクタリング |

### 🤖 補完操作
| キー | 機能 | 説明 |
|------|------|------|
| `<M-l>` | 提案を受け入れ | Copilotの提案を受け入れ |
| `<M-]>` | 次の提案 | 次の提案へ移動 |
| `<M-[>` | 前の提案 | 前の提案へ移動 |
| `<C-]>` | 提案を拒否 | 提案を拒否・非表示 |

### 📋 パネル操作
| キー | 機能 | 説明 |
|------|------|------|
| `<M-CR>` | パネルを開く | Copilotパネルを開く |
| `<CR>` | 提案を受け入れ | パネル内で提案を受け入れ |
| `gr` | 更新 | パネルを更新 |
| `[[` | 前の提案 | パネル内で前の提案 |
| `]]` | 次の提案 | パネル内で次の提案 |

---

## ファイル操作

### 🔍 検索・選択
| キー | 機能 | 説明 |
|------|------|------|
| `<leader>ff` | ファイル検索 | Telescopeでファイル検索 |
| `<leader>fg` | テキスト検索 | Telescopeでgrep検索 |
| `<leader>fb` | バッファ一覧 | 開いているバッファ一覧 |
| `<leader>fh` | ヘルプ検索 | ヘルプタグ検索 |
| `<leader>fs` | シンボル検索 | ドキュメント内シンボル検索 |
| `<leader>fw` | ワークスペースシンボル | ワークスペース内シンボル検索 |

### 📁 ファイルツリー（NvimTree）
| キー | 機能 | 説明 |
|------|------|------|
| `<CR>` | ファイルを開く | 選択したファイルを開く |
| `o` | ファイルを開く | 選択したファイルを開く |
| `<C-v>` | 垂直分割で開く | 垂直分割でファイルを開く |
| `<C-x>` | 水平分割で開く | 水平分割でファイルを開く |
| `<C-t>` | タブで開く | 新しいタブでファイルを開く |
| `a` | ファイル作成 | 新しいファイルを作成 |
| `d` | 削除 | ファイルを削除 |
| `r` | リネーム | ファイルをリネーム |
| `x` | 切り取り | ファイルを切り取り |
| `c` | コピー | ファイルをコピー |
| `p` | ペースト | ファイルをペースト |

---

## 検索・ナビゲーション

### 🧭 LSPナビゲーション
| キー | 機能 | 説明 |
|------|------|------|
| `gD` | 宣言へジャンプ | シンボルの宣言へジャンプ |
| `gd` | 定義へジャンプ | シンボルの定義へジャンプ |
| `gi` | 実装へジャンプ | シンボルの実装へジャンプ |
| `gr` | 参照一覧 | シンボルの参照一覧を表示 |
| `K` | ドキュメント表示 | ホバー情報を表示 |
| `<C-k>` | シグネチャヘルプ | 関数のシグネチャを表示 |

### 🔧 LSP操作
| キー | 機能 | 説明 |
|------|------|------|
| `<leader>rn` | リネーム | シンボルをリネーム |
| `<leader>ca` | コードアクション | 利用可能なコードアクションを表示 |
| `<leader>e` | 診断情報表示 | フローティングで診断情報を表示 |

### 🚀 高速移動（Hop）
| キー | 機能 | 説明 |
|------|------|------|
| `f` | 文字へジャンプ（前方） | 行内の文字へジャンプ |
| `F` | 文字へジャンプ（後方） | 行内の文字へジャンプ |
| `t` | 文字の手前へジャンプ（前方） | 行内の文字の手前へジャンプ |
| `T` | 文字の手前へジャンプ（後方） | 行内の文字の手前へジャンプ |
| `<leader>hw` | 単語へジャンプ | 画面内の単語へジャンプ |
| `<leader>hl` | 行へジャンプ | 画面内の行へジャンプ |
| `<leader>hc` | 文字へジャンプ | 画面内の文字へジャンプ |
| `<leader>hp` | パターンへジャンプ | パターンマッチでジャンプ |

---

## 編集・移動

### ✏️ 自動補完（nvim-cmp）
| キー | 機能 | 説明 |
|------|------|------|
| `<C-Space>` | 補完を表示 | 補完メニューを手動で表示 |
| `<CR>` | 補完を確定 | 選択した補完を確定 |
| `<C-e>` | 補完をキャンセル | 補完メニューを閉じる |
| `<Tab>` | 次の補完候補 | 次の補完候補を選択 |
| `<S-Tab>` | 前の補完候補 | 前の補完候補を選択 |
| `<C-b>` | ドキュメント上へ | 補完ドキュメントを上へスクロール |
| `<C-f>` | ドキュメント下へ | 補完ドキュメントを下へスクロール |

### 🔄 括弧・囲み操作（surround）
| キー | 機能 | 説明 |
|------|------|------|
| `ys{motion}{char}` | 囲み文字追加 | 指定範囲を文字で囲む |
| `ds{char}` | 囲み文字削除 | 囲み文字を削除 |
| `cs{old}{new}` | 囲み文字変更 | 囲み文字を変更 |

### 💬 コメント操作
| キー | 機能 | 説明 |
|------|------|------|
| `gcc` | 行コメント切り替え | 現在行のコメントをトグル |
| `gc{motion}` | 範囲コメント切り替え | 指定範囲のコメントをトグル |
| `gbc` | ブロックコメント切り替え | 現在行のブロックコメントをトグル |
| `gb{motion}` | 範囲ブロックコメント | 指定範囲のブロックコメントをトグル |

---

## 診断・デバッグ

### 🩺 診断情報
| キー | 機能 | 説明 |
|------|------|------|
| `[d` | 前の診断へ | 前の診断情報へ移動 |
| `]d` | 次の診断へ | 次の診断情報へ移動 |
| `<leader>e` | 診断詳細表示 | フローティングで診断詳細を表示 |

### 🔍 Trouble（診断管理）
| キー | 機能 | 説明 |
|------|------|------|
| `<leader>xx` | Trouble切り替え | Troubleウィンドウをトグル |
| `<leader>xw` | ワークスペース診断 | ワークスペースの診断を表示 |
| `<leader>xd` | ドキュメント診断 | 現在ドキュメントの診断を表示 |
| `<leader>xq` | QuickFix一覧 | QuickFixリストを表示 |
| `<leader>xl` | Location一覧 | Locationリストを表示 |

### 🔴 デバッグ（DAP）
| キー | 機能 | 説明 |
|------|------|------|
| `<F5>` | デバッグ開始/継続 | デバッグを開始または継続 |
| `<F10>` | ステップオーバー | 次の行へステップ |
| `<F11>` | ステップイン | 関数内にステップ |
| `<F12>` | ステップアウト | 関数から出る |
| `<leader>b` | ブレークポイント切り替え | ブレークポイントをトグル |
| `<leader>B` | 条件付きブレークポイント | 条件付きブレークポイントを設定 |
| `<leader>dr` | REPL開く | デバッグREPLを開く |
| `<leader>du` | デバッグUI切り替え | デバッグUIをトグル |

---

## ターミナル

### 🖥️ ToggleTerm
| キー | 機能 | 説明 |
|------|------|------|
| `<C-\>` | ターミナル切り替え | フローティングターミナルをトグル |
| `<leader>tf` | Flutter専用ターミナル | Flutter用ターミナルをトグル |

### 📱 ターミナル内操作
| キー | 機能 | 説明 |
|------|------|------|
| `<Esc>` | ノーマルモードへ | ターミナルモードから脱出 |
| `jk` | ノーマルモードへ | ターミナルモードから脱出 |
| `<C-h>` | 左のウィンドウへ | ターミナルから他ウィンドウへ |
| `<C-j>` | 下のウィンドウへ | ターミナルから他ウィンドウへ |
| `<C-k>` | 上のウィンドウへ | ターミナルから他ウィンドウへ |
| `<C-l>` | 右のウィンドウへ | ターミナルから他ウィンドウへ |

---

## VSCode統合（Neovim内）

### 🚀 .vscode/launch.json デバッグ実行
| キー | 機能 | 説明 | 実装ファイル |
|------|------|------|-------------|
| `<leader>vl` | launch設定選択実行 | VSCodeのlaunch.json設定を選択してデバッグ実行 | lua/flutter-dev-with-dap.lua:1082 |
| `<leader>dl` | launch.json再読み込み | VSCodeのlaunch.json設定を再読み込み | lua/flutter-dev-with-dap.lua:829 |
| `<F5>` | デバッグ開始/継続 | 現在のデバッグ設定で開始または継続 | lua/flutter-dev-with-dap.lua:818 |

### ✨ 最新の機能強化（2024年更新）

**自動設定検出と読み込み**
- プロジェクトルートの自動検出（pubspec.yaml、package.json、.git等）
- `.vscode/launch.json`の自動発見と読み込み
- エラーハンドリングの改善（不正なJSONファイルの処理）

**多言語対応の拡張**
- Dart/Flutter（dart、flutter）
- Node.js（javascript、typescript）
- Python（python）
- Go（go）
- Rust（rust）
- C++（cpp、c）
- Java（java）

**インテリジェントな環境対応**
- mise/asdf版本管理ツールの自動検出
- プロジェクト固有のSDKパス解決
- グローバル設定へのフォールバック

**リアルタイム設定管理**
- launch.json変更時の自動再読み込み
- 設定選択時のUIフィードバック
- 設定作成の対話的サポート

### 🔨 .vscode/tasks.json タスク実行
| キー | 機能 | 説明 | ファイル参照 |
|------|------|------|-------------|
| `<leader>vr` | VSCodeタスク実行 | overseerでVSCodeタスクを選択実行 | lua/flutter-dev-with-dap.lua:577 |
| `<leader>vt` | タスクリスト切り替え | タスクリストの表示をトグル | lua/flutter-dev-with-dap.lua:578 |
| `<leader>vo` | タスクリスト開く | タスクリストを開く | lua/flutter-dev-with-dap.lua:579 |
| `<leader>vc` | タスクリスト閉じる | タスクリストを閉じる | lua/flutter-dev-with-dap.lua:580 |

### 📋 利用可能なlaunch.json設定
VSCodeのlaunch.json内で定義された設定:

| 設定名 | 説明 | プログラム | ファイル |
|--------|------|----------|----------|
| `Flutter: Debug` | デバッグモードでアプリを実行 | lib/main.dart | .vscode/launch.json:5 |
| `Flutter: Profile` | プロファイルモードで実行 | lib/main.dart | .vscode/launch.json:14 |
| `Flutter: Release` | リリースモードで実行 | lib/main.dart | .vscode/launch.json:23 |
| `Flutter: Web Debug` | Webプラットフォームでデバッグ | lib/main.dart | .vscode/launch.json:32 |
| `Dart: Debug Current File` | 現在のDartファイルをデバッグ | ${file} | .vscode/launch.json:41 |
| `Flutter: Debug with Device Selection` | デバイス選択してデバッグ | lib/main.dart | .vscode/launch.json:49 |

### 🛠️ 利用可能なtasks.json設定
VSCodeのtasks.json内で定義されたタスク:

| タスク名 | 説明 | コマンド | ファイル |
|----------|------|----------|----------|
| `Flutter: Run` | デフォルトのFlutter実行 | flutter run | .vscode/tasks.json:5 |
| `Flutter: Build APK` | APKビルド | flutter build apk | .vscode/tasks.json:24 |
| `Flutter: Build iOS` | iOSビルド | flutter build ios | .vscode/tasks.json:38 |
| `Flutter: Build Web` | Webビルド | flutter build web | .vscode/tasks.json:52 |
| `Flutter: Test` | テスト実行 | flutter test | .vscode/tasks.json:66 |
| `Flutter: Clean` | プロジェクトクリーン | flutter clean | .vscode/tasks.json:84 |
| `Flutter: Get Dependencies` | 依存関係取得 | flutter pub get | .vscode/tasks.json:97 |
| `Dart: Analyze` | 静的解析実行 | dart analyze | .vscode/tasks.json:111 |

### ⌨️ VSCode設定ファイル編集
| キー | 機能 | 説明 |
|------|------|------|
| `:e .vscode/launch.json` | デバッグ設定編集 | launch.jsonファイルを編集 |
| `:e .vscode/tasks.json` | タスク設定編集 | tasks.jsonファイルを編集 |
| `<leader>ff` | ファイル検索 | Telescopeで.vscode設定ファイルを検索 |

---

## プラグイン固有

### 📋 TODO管理
| キー | 機能 | 説明 |
|------|------|------|
| `]t` | 次のTODO | 次のTODOコメントへ移動 |
| `[t` | 前のTODO | 前のTODOコメントへ移動 |
| `<leader>xt` | TODO一覧（Trouble） | TroubleでTODO一覧を表示 |
| `<leader>xT` | TODO/FIX一覧 | TODO/FIX/FIXME一覧を表示 |
| `<leader>st` | TODO検索（Telescope） | TelescopeでTODO検索 |
| `<leader>sT` | TODO/FIX検索 | TODO/FIX/FIXME検索 |

### 📑 バッファライン
| キー | 機能 | 説明 |
|------|------|------|
| `<Tab>` | 次のバッファ | 次のバッファへ移動 |
| `<S-Tab>` | 前のバッファ | 前のバッファへ移動 |
| `<leader>bp` | バッファピン | バッファをピン留め |
| `<leader>bP` | 非ピンバッファ閉じる | ピンされていないバッファを閉じる |

### 🔍 Telescope内操作
| キー | 機能 | 説明 |
|------|------|------|
| `<C-j>` | 次の候補 | 次の検索結果へ移動 |
| `<C-k>` | 前の候補 | 前の検索結果へ移動 |
| `<CR>` | 選択 | 選択した項目を開く |
| `<C-v>` | 垂直分割で開く | 垂直分割で開く |
| `<C-x>` | 水平分割で開く | 水平分割で開く |
| `<C-t>` | タブで開く | 新しいタブで開く |

---

## 🎓 使用例とワークフロー

### 📱 典型的なFlutter開発フロー

1. **プロジェクトを開く**
   ```
   nvim .
   ```

2. **ファイルツリーを表示**
   ```
   <leader>e
   ```

3. **Flutter実行**
   ```
   <leader>fr
   ```

4. **コード編集中**
   - LSP機能で自動補完
   - `K`でドキュメント表示
   - `<leader>ca`でコードアクション

5. **ホットリロード**
   ```
   <leader>fh
   ```

6. **Git操作**
   ```
   <leader>gg  # Neogitでステータス確認
   <leader>hs  # 変更をステージング
   ```

### 🔍 効率的な検索・移動

1. **ファイル間移動**
   ```
   <leader>ff  # ファイル検索
   <leader>fg  # テキスト検索
   ```

2. **コード内移動**
   ```
   gd          # 定義へジャンプ
   gr          # 参照一覧
   <leader>hw  # 単語へ高速ジャンプ
   ```

3. **バッファ管理**
   ```
   <Tab>       # 次のバッファ
   <S-Tab>     # 前のバッファ
   <leader>fb  # バッファ一覧
   ```

---

## 🔧 カスタマイズのヒント

### キーバインドの追加
```lua
vim.keymap.set('n', '<your-key>', '<command>', { desc = 'Your description' })
```

### Which-keyグループの追加
```lua
require("which-key").register({
  ["<leader>m"] = { name = "+your-group" },
})
```

### プラグイン固有キーマップ
各プラグインの設定セクションで独自のキーマップを定義できます。

---

**💡 Tip**: `<leader>` (Space) を押すとwhich-keyが利用可能なコマンドを表示します！