# Tmux設定変更履歴

## 2026-01-XX: 設定の簡素化とキーバインドの整理

### 変更概要

tmux設定ファイルを大幅に簡素化し、キーバインドを覚えやすく整理しました。

### 主な変更点

#### 1. プレフィックスキーの変更
- **変更前**: `Ctrl+a` (`C-a`)
- **変更後**: `Ctrl+g` (`C-g`)
- **理由**: より押しやすく、他のアプリケーションとの競合を避けるため

#### 2. キーバインドの整理

##### 削除されたキーバインド
- `bind '\'` - 垂直分割の重複（`|`で十分）
- `bind _` - 水平分割の重複（`-`で十分）
- `bind X` - 他のペインを全て閉じる（使用頻度が低い）
- `bind >` / `bind <` - ペインの入れ替え（使用頻度が低い）
- `bind S` - ペイン同期（使用頻度が低い）
- `bind v` - コピーモードの重複（`[`で十分）
- `bind P` - ペーストの重複（`]`で十分）
- `bind f` - ウィンドウ検索（使用頻度が低い）
- `bind C-c` / `bind C-s` - セッション管理の重複
- `bind C-n` / `bind C-p` - ウィンドウ移動の重複
- `bind L` - 前回のセッション（使用頻度が低い）
- `bind t` - 時計表示（使用頻度が低い）
- `bind :` - コマンドプロンプト（デフォルトで`Prefix :`が使える）
- `bind ?` - キーバインド一覧（デフォルトで`Prefix ?`が使える）
- 矢印キーでのリサイズ（`H/J/K/L`で十分）

##### 保持されたキーバインド（覚えやすいパターン）

**ペイン管理**
- `Prefix |` - 垂直分割（`|`の形が直感的）
- `Prefix -` - 水平分割（`-`の形が直感的）
- `Prefix x` - ペインを閉じる（eXit）
- `Prefix z` - ペインズーム（Zoom）
- `Prefix q` - ペイン番号表示（Quick select）
- `Prefix Space` - レイアウト変更
- `Prefix h/j/k/l` - ペイン移動（Vim風）
- `Prefix H/J/K/L` - ペインリサイズ（大文字でリサイズ）

**ウィンドウ管理**
- `Prefix c` - 新規ウィンドウ（Create）
- `Prefix n` - 次のウィンドウ（Next）
- `Prefix p` - 前のウィンドウ（Previous）
- `Prefix w` - ウィンドウ一覧（Window）
- `Prefix ,` - ウィンドウ名変更
- `Prefix &` - ウィンドウを閉じる
- `Prefix [0-9]` - ウィンドウ番号で移動

**セッション管理**
- `Prefix s` - セッション一覧（Session）
- `Prefix d` - デタッチ（Detach）
- `Prefix $` - セッション名変更

**コピーモード**
- `Prefix [` - コピーモード開始
- `Prefix ]` - ペースト
- コピーモード内: `v/V/C-v` で選択、`y` でコピー

**その他**
- `Prefix r` - 設定リロード（Reload）
- `Ctrl+h/j/k/l` - 統合ナビゲーション（Neovim/Tmux/WezTerm）

#### 3. 設定の簡素化

##### 削除された設定
- 冗長なコメント（日本語の「覚え方」コメントを削除）
- 重複するキーバインド定義
- 使用頻度の低い機能

##### 保持された設定
- 基本設定（マウス、インデックス、履歴など）
- True Color対応
- カラースキーム（Tokyo Night Night）
- プラグイン設定
- vim-tmux-navigator統合

### キーバインド一覧（簡易版）

| カテゴリ | キー | 動作 | 覚え方 |
|---------|------|------|--------|
| **Prefix** | `Ctrl+g` | Prefixキー | - |
| **基本** | `Prefix r` | 設定リロード | Reload |
| **ペイン分割** | `Prefix \|` | 垂直分割 | `\|`の形 |
| | `Prefix -` | 水平分割 | `-`の形 |
| **ペイン移動** | `Ctrl+h/j/k/l` | ペイン移動 | Vim風 |
| | `Prefix h/j/k/l` | ペイン移動 | Vim風 |
| | `Prefix q` | ペイン番号表示 | Quick |
| **ペインリサイズ** | `Prefix H/J/K/L` | リサイズ | 大文字 |
| **ペイン操作** | `Prefix x` | ペインを閉じる | eXit |
| | `Prefix z` | ペインズーム | Zoom |
| | `Prefix Space` | レイアウト変更 | - |
| **ウィンドウ** | `Prefix c` | 新規ウィンドウ | Create |
| | `Prefix n` | 次のウィンドウ | Next |
| | `Prefix p` | 前のウィンドウ | Previous |
| | `Prefix w` | ウィンドウ一覧 | Window |
| | `Prefix ,` | ウィンドウ名変更 | - |
| | `Prefix &` | ウィンドウを閉じる | - |
| | `Prefix [0-9]` | ウィンドウ番号で移動 | - |
| **セッション** | `Prefix s` | セッション一覧 | Session |
| | `Prefix d` | デタッチ | Detach |
| | `Prefix $` | セッション名変更 | - |
| **コピー** | `Prefix [` | コピーモード開始 | - |
| | `Prefix ]` | ペースト | - |
| | `v/V/C-v` (コピーモード内) | 選択 | Vim風 |
| | `y` (コピーモード内) | コピー | Yank |

### 変更前後の比較

#### 行数
- **変更前**: 357行
- **変更後**: 約200行
- **削減**: 約44%削減

#### キーバインド数
- **変更前**: 約50個
- **変更後**: 約30個
- **削減**: 約40%削減

### メリット

1. **覚えやすさ**: キーバインドが論理的に整理され、パターンが明確
2. **シンプルさ**: 不要な機能を削除し、必要最小限の設定に
3. **保守性**: コード量が減り、理解しやすくなった
4. **一貫性**: キーバインドの命名規則が統一された

### デフォルトキーバインド

以下のキーバインドはtmuxのデフォルト機能として利用可能です：
- `Prefix :` - コマンドプロンプト
- `Prefix ?` - キーバインド一覧
- `Prefix t` - 時計表示

必要に応じて、これらのキーバインドをカスタマイズできます。

### 移行ガイド

既存のキーバインドを使用していた場合：

1. **ペイン分割**: `Prefix \` → `Prefix |`（垂直分割）
2. **ペイン分割**: `Prefix _` → `Prefix -`（水平分割）
3. **コピーモード**: `Prefix v` → `Prefix [`
4. **ペースト**: `Prefix P` → `Prefix ]`
5. **ウィンドウ検索**: `Prefix f` → 削除（`Prefix w`で一覧から選択可能）

### 今後の改善案

- [ ] カスタムキーバインドの追加（必要に応じて）
- [ ] プラグインの見直し（使用頻度の低いプラグインの削除検討）
- [ ] パフォーマンス最適化

---

**最終更新**: 2026-01-XX
