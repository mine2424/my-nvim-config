# ========================================
# Starship Prompt Configuration
# ========================================
# https://starship.rs/config/

# Get editor completions based on the config schema
"$schema" = 'https://starship.rs/config-schema.json'

# ========================================
# General Settings
# ========================================

# Timeout for commands (in milliseconds)
command_timeout = 50

# Timeout for starship to scan files (in milliseconds)
scan_timeout = 30

continuation_prompt = '[â¯â¯ ](fg:blue)'

# Disable the blank line at the start of the prompt
add_newline = true

# ========================================
# Prompt Format
# ========================================

# Right side of the prompt (viaä»¥é™ã‚’å³å¯„ã›)
right_format = """
$hostname\
$localip\
$time\
$cmd_duration\
$jobs
"""


# Left side of the prompt
format = """
$username\
$directory\
$fill\
$git_branch\
$git_status\
$git_commit\
$nodejs\
$rust
$character
"""


# ========================================
# Prompt Components
# ========================================

[character]
success_symbol = '[â¯â¯â¯](fg:blue)'
error_symbol = '[â¯â¯â¯](fg:red)'

[username]
show_always = true
style_user = "bg:#585858"
style_root = "bg:#585858"
format = '[$user ]($style)'
disabled = false

[hostname]
ssh_only = true
style = "bg:#444444"
ssh_symbol = ''
format = '[$ssh_symbol]($style)[ on ]($style)[$hostname](fg:red bg:$style)'

[directory]
style = "fg:#303030 bg:#0087AF"
read_only = ' ó°Œ¾'
read_only_style = "fg:#AF0000 bg:#0087AF"
format = '[ $path ]($style)[$read_only]($read_only_style)'
truncation_length = 3
truncation_symbol = "â€¦/"
truncate_to_repo = true
home_symbol = ' ó°‹œ '
use_os_path_sep = false
fish_style_pwd_dir_length = 1

[directory.substitutions]
"Documents" = " ó°ˆ™ "
"Downloads" = " ó°‰ "
"Music" = " ó°š "
"Pictures" = " ó°‰ "
"Videos" = " ó°•§ "
"development" = " ó°¨ž "
"dev" = " ó°¨ž "
"projects" = " ó°¨ž "
"Desktop" = " ó°€‰ "
"Code" = " ó°¨ž "
"code" = " ó°¨ž "
"workspace" = " ó°¨ž "
"work" = " ó°¨ž "
"home" = " ó°‹œ "
"~" = " ó°‹œ "

[fill]
symbol = " "

[cmd_duration]
min_time = 500
format = "[$duration]($style) "
style = "bold yellow"

[time]
disabled = false
format = "[$time]($style) "
style = "bold white"
time_format = "%T"

[jobs]
symbol = " "
number_threshold = 1
symbol_threshold = 1
format = "[$symbol$number]($style) "
style = "bold blue"

# ========================================
# Operating System
# ========================================

[os]
style = "bg:#585858"
disabled = true      # Disabled by default

# ========================================
# Version Control (Git)
# ========================================

[git_branch]
symbol = ""
style = "fg:#303030 bg:#CF9562"
format = '[ ](fg:#CF9562)[ $symbol $branch ]($style)'

[git_status]
style = "bg:#CF9562 fg:#444444"
conflicted = 'ó°ž‡=\($count\)'
ahead = 'ðŸŽðŸ’¨'
behind = 'ðŸ˜°'
diverged = 'ðŸ˜µ'
up_to_date = 'âœ“'
untracked = 'ðŸ¤·'
stashed = 'ðŸ“¦=\($count\)'
modified = 'ðŸ“'
staged = '[s=\($count\)](bg:#CF9562 fg:#444444)'
renamed = 'ðŸ‘…'
deleted = 'ðŸ—‘'
format = '[$all_status$ahead_behind ]($style)[î‚²](bg:#CF9562 fg:#303030 fg:#444444)'


[git_commit]
style = "bg: #CF9562"
commit_hash_length = 4
tag_symbol = 'ðŸ”– '

# ========================================
# Programming Languages
# ========================================

[c]
symbol = " "
style = "bg:#444444"
format = '[ $symbol ($version) ]($style)'

[nodejs]
symbol = ""
style = "bg:#444444"
format = '[ $symbol ($version) ]($style)'
detect_extensions = ["js", "mjs", "cjs", "ts", "mts", "cts"]
detect_files = ["package.json"]
detect_folders = []

[python]
symbol = " "
format = '[${symbol}${pyenv_prefix}(${version} )(\($virtualenv\) )]($style)'
style = "bold yellow"
pyenv_version_name = false
detect_extensions = ["py"]
detect_files = [
    ".python-version",
    "Pipfile",
    "pyproject.toml",
    "requirements.txt",
    "setup.py",
    "tox.ini",
]

[rust]
symbol = ""
style = "bg:#444444"
format = '[ $symbol ($version) ]($style)'

[julia]
symbol = " "
style = "bg:#444444"
format = '[ $symbol ($version) ]($style)'

[golang]
symbol = " "
format = "[$symbol($version )]($style)"
style = "bold cyan"
detect_extensions = ["go"]
detect_files = ["go.mod", "go.sum", "go.work"]

[java]
symbol = " "
format = "[$symbol($version )]($style)"
style = "bold red"
detect_extensions = ["java", "class", "jar", "gradle", "clj", "cljc"]

[dart]
symbol = " "
format = "[$symbol($version )]($style)"
style = "bold blue"
detect_extensions = ["dart"]
detect_files = ["pubspec.yaml", "pubspec.yml"]

# Flutter is now part of Dart module
# [flutter]
# symbol = " "
# format = "[$symbol($version )]($style)"
# style = "bold blue"
# detect_extensions = ["dart"]
# detect_files = ["pubspec.yaml", "pubspec.yml"]

[ruby]
symbol = " "
format = "[$symbol($version )]($style)"
style = "bold red"
detect_extensions = ["rb"]
detect_files = ["Gemfile", ".ruby-version"]

[php]
symbol = " "
format = "[$symbol($version )]($style)"
style = "bold purple"
detect_extensions = ["php"]

[lua]
symbol = " "
format = "[$symbol($version )]($style)"
style = "bold blue"
detect_extensions = ["lua"]

[swift]
symbol = " "
format = "[$symbol($version )]($style)"
style = "bold orange"
detect_extensions = ["swift"]

# ========================================
# Tools & Frameworks
# ========================================

[docker_context]
symbol = " "
style = "bg:#06969A"
format = '[ $symbol $context ]($style) $path'

[kubernetes]
symbol = "â˜¸ "
format = '[$symbol$context( \($namespace\))]($style) '
style = "bold blue"
disabled = false
detect_files = ["k8s"]
detect_folders = ["k8s"]

[terraform]
symbol = "ðŸ’  "
format = "[$symbol$workspace]($style) "
style = "bold purple"
detect_extensions = ["tf", "tfplan", "tfstate"]

[aws]
symbol = " "
format = '[$symbol($profile )(\($region\) )(\[$duration\] )]($style)'
style = "bold yellow"
disabled = false

[gcloud]
symbol = "â˜ï¸ "
format = '[$symbol$account(@$domain)(\($region\))]($style) '
style = "bold blue"
disabled = false

# ========================================
# Package Managers
# ========================================

[package]
symbol = "ðŸ“¦ "
format = "[$symbol$version]($style) "
style = "bold yellow"
display_private = false

[conda]
symbol = " "
format = "[$symbol$environment]($style) "
style = "bold green"

# ========================================
# Environment Variables
# ========================================

[env_var.SHELL]
variable = "SHELL"
default = "unknown"
format = "[$env_value]($style) "
style = "bold blue"
disabled = true

# ========================================
# Battery
# ========================================

[battery]
full_symbol = ''
empty_symbol = ''
charging_symbol = ''
discharging_symbol = ''
unknown_symbol = ''
format = '[$symbol$percentage](red) '
# style = "bg:#585858"

# ========================================
# Memory Usage
# ========================================

[memory_usage]
disabled = false
threshold = -1
symbol = ' '
style = "bg:#CF9562 fg:#444444"

[localip]
style = "bg:#CF9562 fg:#444444"
ssh_only = false
format = '[$localipv4]($style) '
disabled = false

# ========================================
# Status
# ========================================

[status]
disabled = false
format = "[$symbol$status]($style) "
symbol = "âœ–"
success_symbol = ""
not_executable_symbol = "ðŸš«"
not_found_symbol = "ðŸ”"
sigint_symbol = "ðŸ§±"
signal_symbol = "âš¡"
style = "bold red"
recognize_signal_code = true
map_symbol = true

# ========================================
# Custom Commands
# ========================================

[custom.git_server]
disabled = true
description = "Display git server icon"
command = """
GIT_REMOTE=$(command git ls-remote --get-url 2> /dev/null)
if [[ "$GIT_REMOTE" =~ "github" ]]; then
    echo " "
elif [[ "$GIT_REMOTE" =~ "gitlab" ]]; then
    echo " "
elif [[ "$GIT_REMOTE" =~ "bitbucket" ]]; then
    echo " "
else
    echo " "
fi
"""
when = 'git rev-parse --is-inside-work-tree 2> /dev/null'
format = "[$output]($style) "
style = "bold yellow"
